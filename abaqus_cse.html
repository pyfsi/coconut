
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Coupling Code for Numerical Tools - aka ü•• CoCoNuT is a Python tool for partitioned multiphysics simulations with a focus on fluid-structure interaction.">
      
      
      
        <link rel="canonical" href="https://pyfsi.github.io/coconut/abaqus_cse.html">
      
      
        <link rel="prev" href="abaqus.html">
      
      
        <link rel="next" href="fluent.html">
      
      
      <link rel="icon" href="assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.20">
    
    
      
        <title>AbaqusCSE - CoCoNuT</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="light-green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#abaquscse" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="CoCoNuT" class="md-header__button md-logo" aria-label="CoCoNuT" data-md-component="logo">
      
  <img src="images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CoCoNuT
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              AbaqusCSE
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="light-green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="light-green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pyfsi/coconut" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pyfsi/coconut
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="index.html" class="md-tabs__link">
        
  
    
  
  Introduction

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="coupling_components.html" class="md-tabs__link">
          
  
  Coupling components

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="data_structure.html" class="md-tabs__link">
        
  
    
  
  Data structure

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="docs.html" class="md-tabs__link">
        
  
    
  
  Documentation

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="examples.html" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="tests.html" class="md-tabs__link">
        
  
    
  
  Tests

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="CoCoNuT" class="md-nav__button md-logo" aria-label="CoCoNuT" data-md-component="logo">
      
  <img src="images/logo.png" alt="logo">

    </a>
    CoCoNuT
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pyfsi/coconut" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pyfsi/coconut
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Coupling components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Coupling components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="coupling_components.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="convergence_criteria.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convergence criteria
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Coupled solvers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Coupled solvers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="coupled_solvers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coupled solvers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="models.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mappers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mappers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="predictors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Predictors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" checked>
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Solver wrappers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Solver wrappers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="solver_wrappers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="abaqus.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abaqus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    AbaqusCSE
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="abaqus_cse.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    AbaqusCSE
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fluid-structure-interaction-with-abaqus" class="md-nav__link">
    <span class="md-ellipsis">
      Fluid-structure interaction with Abaqus
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview-of-operation" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of operation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-a-case-creation-of-an-abaqus-input-file-inp" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up a case: creation of an Abaqus input file (.inp)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setting up a case: creation of an Abaqus input file (.inp)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    <span class="md-ellipsis">
      General
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-surfaces-in-abaqus" class="md-nav__link">
    <span class="md-ellipsis">
      Creating surfaces in Abaqus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#end-of-the-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      End of the calculation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restarting-a-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      Restarting a calculation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solver-coupling-convergence" class="md-nav__link">
    <span class="md-ellipsis">
      Solver coupling convergence
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-specific-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Version specific documentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Version specific documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#v2023" class="md-nav__link">
    <span class="md-ellipsis">
      v2023
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v2024" class="md-nav__link">
    <span class="md-ellipsis">
      v2024
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="fluent.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="kratos_structure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    KratosStructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="openfoam.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="python.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="data_structure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data structure
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="docs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="examples.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="post_processing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Post-processing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Breaking dam
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Breaking dam
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="breaking_dam_fluent2d_abaqus2d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 2D - Abaqus 2D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="breaking_dam_fluent2d_kratos_structure2d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 2D - KratosStructure 2D
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lid-driven cavity
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Lid-driven cavity
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="lid_driven_cavity_fluent2d_kratos_structure2d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent2D - KratosStructure 2D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="lid_driven_cavity_openfoam2d_kratos_structure2d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM2D - KratosStructure 2D
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tube
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Tube
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_tube_flow_tube_ringmodel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python TubeFlow - Python TubeRingmodel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_tube_flow_tube_structure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python TubeFlow - Python TubeStructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_tube_flow_tube_structure_analytical.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python TubeFlow - Python TubeStructure - Analytical
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_tube_flow_tube_structure_surrogate.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python TubeFlow - Python TubeStructure - Surrogate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_tube_flow_abaqus2d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python TubeFlow - Abaqus 2D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_fluent2d_tube_structure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 2D - Python TubeStructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_fluent2d_abaqus2d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 2D - Abaqus 2D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_fluent2d_abaqus2d_steady.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 2D - Abaqus 2D - Steady
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_fluent2d_abaqus2d_surrogate.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 2D - Abaqus 2D - Surrogate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_fluent3d_abaqus2d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 3D - Abaqus 2D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_fluent3d_abaqus3d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 3D - Abaqus 3D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_fluent3d_abaquscse3d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 3D - AbaqusCSE 3D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_fluent3d_kratos_structure3d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 3D - KratosStructure 3D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_openfoam3d_abaqus3d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM 3D - Abaqus 3D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tube_openfoam3d_kratos_structure3d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM 3D - KratosStructure 3D
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Turek benchmark
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Turek benchmark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="turek_fluent2d_abaqus2d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 2D - Abaqus 2D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="turek_fluent2d_abaqus2d_steady.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluent 2D - Abaqus 2D - Steady
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="turek_openfoam2d_kratos_structure2d.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM 2D - KratosStructure 2D
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="test_single_solver.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test single solver
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="tests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tests
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="abaquscse">AbaqusCSE</h1>
<p>This is the documentation for the new version of the Abaqus solver wrapper, which uses the Abaqus Co-Simulation Engine (CSE) avoiding the need to start and stop Abaqus every coupling iteration.
Refer to <a href="https://pyfsi.github.io/coconut/abaqus">Abaqus</a> for the old version of the Abaqus solver wrapper.</p>
<p>Abaqus is a structural solver implementing the finite element method.
Currently, this wrapper only supports FSI simulations, no other multi-physics problems.</p>
<div class="admonition failure">
<p class="admonition-title">For two-dimensional cases, the traction forces are not taken into account</p>
</div>
<details class="info">
<summary>Terminology</summary>
<ul>
<li>A <em>step</em> in Abaqus is a convenient period of time (during which a load is applied for example). Within the context of CoCoNuT it usually coincides with the complete duration of the calculation. It should not be confused with the <em>time step</em>.</li>
<li>An <em>increment</em> in Abaqus is usually equal to the time step of Abaqus, unless subcycling is applied within the Abaqus solver. Then a time step can be subdivided in multiple increments.</li>
<li>In an implicit or strongly coupled FSI calculation, the structural solver is called multiple times per time step. A call of the the flow solver and subsequent call of the structural solver is called a <em>coupling iteration</em>. All coupling iterations are part of the same attempt of the same increment (unless subcycling is used).</li>
</ul>
</details>
<details class="warning">
<summary>Subcycling</summary>
<p>Subcycling has not been tested for this solver wrapper. Note that the maximum number of increments is now set to the number of time steps. In order to apply subcycling, this needs to be modified.</p>
</details>
<details class="success">
<summary>Licensing</summary>
<p>If the <strong>Abaqus license server</strong> needs to be specified explicitly, it is advised to do this in the <a href="https://pyfsi.github.io/coconut/#checking-the-solver-modules">solver modules file</a> by setting the variable <em>LM_LICENSE_FILE</em>.
The file <em><code>abaqus_v6.env</code></em> is the environment file for the Abaqus solver and will be automically created by the CoCoNuT Python wrapper.</p>
</details>
<h2 id="fluid-structure-interaction-with-abaqus">Fluid-structure interaction with Abaqus</h2>
<p>Abaqus (Dassault Syst√®mes) can be used to solve for the structural displacement/deformation in partitioned FSI-simulations.
The FSI interface consist of a <em>surfaces</em> in the Abaqus model, where pressure and traction loads are applied.
The loads are applied in the element centers, the displacements are exported in the element nodes.
The input loads are collected in one or more <code>ModelParts</code> in the <em>input</em> <code>Interface</code>,
the output nodes are collected in one or more <code>ModelParts</code> of the <em>output</em> <code>Interface</code>.
Each <code>ModelPart</code> on the input <code>Interface</code> has a counterpart on the output <code>Interface</code>.
More information about <code>ModelParts</code> and <code>Interface</code> can be found in the <a href="https://pyfsi.github.io/coconut/data_structure">data structure documentation</a>.</p>
<h2 id="parameters">Parameters</h2>
<p>This section describes the parameter settings in the JSON file.
It can be useful to have a look at a JSON file of one of the examples in the <em><code>examples</code></em> folder.</p>
<table>
<thead>
<tr>
<th style="text-align: right;">parameter</th>
<th style="text-align: center;">type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;"><code>cores</code></td>
<td style="text-align: center;">int</td>
<td>Number of cores to be used by Abaqus.</td>
</tr>
<tr>
<td style="text-align: right;"><code>debug</code></td>
<td style="text-align: center;">bool</td>
<td>(optional) Default: <code>false</code>. Additional files are created or retained that are helpful for debugging, such as Abaqus send-and-receive file (Abaqus.SRE) or the input and output data of the solver for every coupling iterations.</td>
</tr>
<tr>
<td style="text-align: right;"><code>dimensions</code></td>
<td style="text-align: center;">int</td>
<td>Dimensionality of the problem (2 or 3).</td>
</tr>
<tr>
<td style="text-align: right;"><nobr><code>disable_modification_of_input_file</code></nobr></td>
<td style="text-align: center;">bool</td>
<td>(optional) Default: <code>false</code>. If <code>true</code>, the input file is not modified by CoCoNuT but simply copied to a file named Abaqus.inp. The user is responsible to correctly define the co-simulation settings, the time step, the duration, the output and the restart behaviour.</td>
</tr>
<tr>
<td style="text-align: right;"><code>interface_input</code></td>
<td style="text-align: center;">list</td>
<td>Should contain a dictionary for each input <code>ModelPart</code> to be created, having a key <code>model_part</code> and a key <code>variables</code>. The order of the list should correspond to the order of the Abaqus <em>surfaces</em> provided in the parameter <code>surfaces</code>, as well as to the order of the model parts in the other solver. The value of the key <code>variables</code> should be a list of the variables <code>pressure</code> and <code>traction</code>. The <code>interface_input</code> corresponds to the face centers of the elements on the surface.</td>
</tr>
<tr>
<td style="text-align: right;"><code>interface_output</code></td>
<td style="text-align: center;">list</td>
<td>Similar to <code>interface_input</code> but contains the output <code>ModelParts</code> for Abaqus geometrical nodes. In this case the <code>variables</code> key specifies the output variable, chosen from <em><code>data_structure/variables.py</code></em>. Here, the value of the key <code>variables</code> should be a <code>displacement</code>. Again, the order should correspond to the <code>surfaces</code> as well as to the <code>Interface</code> definitions of the solver to which Abaqus is coupled.</td>
</tr>
<tr>
<td style="text-align: right;"><code>input_file</code></td>
<td style="text-align: center;">str</td>
<td>Name of the Abaqus input file (.inp) provided by the user. <br> Example: <em><code>case.inp</code></em></td>
</tr>
<tr>
<td style="text-align: right;"><code>port</code></td>
<td style="text-align: center;">int</td>
<td>(optional) If not provided, the operating system will choose a free port. This port is used for the communication between the AbaqusWrapper executable and the CSE.</td>
</tr>
<tr>
<td style="text-align: right;"><code>save_results</code></td>
<td style="text-align: center;">int</td>
<td>(optional) Default: <code>1</code>. This will modify the frequency of storing fields or history in the <em><code>.odb</code></em> file. If no output definition is present in the input file, one is created for the <em>PRESELECT</em> variables.</td>
</tr>
<tr>
<td style="text-align: right;"><code>surfaces</code></td>
<td style="text-align: center;">list</td>
<td>List of the surface names defined in Abaqus. Note that the order has to be the same as those of the interface definitions. Take the Abaqus naming conventions into account: surfaces names are capitalized unless specified within double quotes in the input file, and the name is often prepended for example with ASSEMBLY_ (‚ÄúAssembly.Part‚Äù is translated to ‚ÄúAssembly_Part‚Äù).</td>
</tr>
<tr>
<td style="text-align: right;"><code>working_directory</code></td>
<td style="text-align: center;">str</td>
<td>Relative path to the directory in which Abaqus will be executed and where all structural information will be stored. This folder is typically called <em><code>CSM</code></em>, but any name is allowed. It should be created before execution and contain the input file.</td>
</tr>
</tbody>
</table>
<p>The following parameters are usually defined in the top-level settings of the JSON file, but they can also be given directly as parameter of the solver wrapper (e.g. for standalone testing).
If they are defined in both locations, a warning is printed and the top-level value is used.</p>
<table>
<thead>
<tr>
<th style="text-align: right;">parameter</th>
<th style="text-align: center;">type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;"><code>delta_t</code></td>
<td style="text-align: center;">float</td>
<td>Size of the time step in Abaqus.</td>
</tr>
<tr>
<td style="text-align: right;"><nobr><code>number_of_timesteps</code></nobr></td>
<td style="text-align: center;">int</td>
<td>The amount of time steps to run the calculation. For a steady calculation, the value should be <code>1</code>.</td>
</tr>
<tr>
<td style="text-align: right;"><code>save_restart</code></td>
<td style="text-align: center;">int</td>
<td>Indicates the time step interval at which files for restart have to be saved. A minus sign indicates only the files from the last interval are retained.</td>
</tr>
<tr>
<td style="text-align: right;"><code>timestep_start</code></td>
<td style="text-align: center;">int</td>
<td>Time step to start from. Data should be available at this time step. For a new simulation this value will typically be <code>0</code>.</td>
</tr>
</tbody>
</table>
<h2 id="overview-of-operation">Overview of operation</h2>
<p>The communication with Abaqus is achieved through the Co-Simulation Engine (CSE).
Therefore, CoCoNuT will launch 3 processes simultaneously, as shown below.
The dashed arrows represent communication at the start of the calculations, while the full arrows represent communication of pressure, traction and displacement on run time.</p>
<p><img alt="overview" src="images/abaqus_cse_structure.svg" title="Overview of operation of AbaqusCSE" /></p>
<p>On the far right, the <strong>Abaqus</strong> process is shown, which is the actual solver.
The used mesh information and settings are contained within an input file <em><code>Abaqus.inp</code></em>.
CoCoNuT crates this file based on the provided <code>input_file</code> in the JSON file.
The time step, duration, number of increments, output frequency, restart frequency and co-simulation settings are all updated or added by the Python solver wrapper (unless <code>disable_modification_of_input_file</code> is <code>true</code>). This includes the load definition on the <code>ModelParts</code> and a basic output request.</p>
<p>The communication with this Abaqus process is taken care of by the <strong>Co-Simulation Engine (CSE)</strong>.
This is a second process launched by the Python solver wrapper.
Its settings are dictated by the file <em><code>CSE_config.xml</code></em> which is also created by Python solver wrapper.</p>
<p>Finally, a third process is launched: the executable <strong>AbaqusWrapper</strong>.
Its C++ code is stored in <em><code>coupling_components/solver_wrappers/abaqus_cse/AbaqusWrapper</code></em> and automatically compiled by the Python solver wrapper.
At the start of a calculation, it receives input written by the Python solver wrapper by reading the file <em><code>AbaqusWrapper_input.txt</code></em>.
When the calculation is running, the Python solver wrapper communicates with the AbaqusWrapper using text files such as: <em><code>pressure_mp0.txt</code></em>.
The suffix <em>mp0</em> refers to model part 0, that is the first model part.</p>
<div class="admonition success">
<p class="admonition-title">Log files</p>
<p>Since the Python wrapper will launch three separate processes, it is wise to check the log file of each process should an error occur.</p>
<ul>
<li>The Abaqus process is launched in the <code>working_directory</code>, and the log file is named <em><code>abaqus.log</code></em>. Usually, useful information can be found in <em><code>Abaqus.msg</code></em> and occasionally <em><code>Abaqus.dat</code></em>.</li>
<li>The CSE process is launched in a subfolder, <em><code>CSE</code></em>, of the <code>working_directory</code>, and the log file is named <em><code>cse.log</code></em>.</li>
<li>The AbaqusWrapper process is launched in a subfolder, <em><code>AbaqusWrapper</code></em>,  of the <code>working_directory</code> , and the log file is named <em><code>AbaqusWrapper.log</code></em>.</li>
</ul>
<p>For debugging purposes, it is usefull to set the <code>debug</code> JSON parameter on true, resulting in the output of additional files.</p>
</div>
<h2 id="setting-up-a-case-creation-of-an-abaqus-input-file-inp">Setting up a case: creation of an Abaqus input file (.inp)</h2>
<p>The Abaqus solver wrapper is configured to start from an input file which contains all necessary information for the calculation.
Its name should be specified in the JSON file via the parameter <code>input_file</code>, and it should be located in the <code>working_directory</code>.
For the remainder of this section this file will be referred to as "base file".</p>
<p>Creation of the base file is not considered a part of the solver wrapper functionality as it is case-specific.
However, in order for the solver wrapper to work, the base file has to comply with certain general conditions.
This section aims at informing the user about the requirements for the base file.</p>
<h3 id="general">General</h3>
<p>The base file needs to be of the ".inp" type, this is an "input file for Abaqus". ".inp-files" are created via Abaqus by, after configuration, creating a "job" and requesting a "write input" for that job.
These files can be opened in Abaqus by using "file &gt; import &gt; model".
The base file has to contain all necessary information about the structural model, which includes:</p>
<ul>
<li>Mesh defining the structure geometry and discretization.<ul>
<li>Also, the element type needs to be defined.</li>
</ul>
</li>
<li>Material properties.</li>
<li>Boundary conditions.</li>
<li>Surfaces where external loads need to be applied (one surface per <code>ModelPart</code>).<ul>
<li>Here <em>"Surface"</em> refers to nomenclature of the Abaqus software itself. The name can be found as such in the Abaqus working tree.</li>
</ul>
</li>
<li>A <em>Step</em> definition, which contains solver settings. The following type of analyses are some examples (it is advised to explicitly set them based on this documentation rather than leaving it to Abaqus to fill in a default):<ul>
<li>Implicit dynamic, application quasi-static</li>
<li>Implicit dynamic, application moderate dissipation</li>
<li>Implicit dynamic, application transient fidelity</li>
<li>Static general</li>
</ul>
</li>
<li>Additional loads not dependent on the flow solver.</li>
</ul>
<p>Abaqus models contain parts and those parts are used to create assemblies.
The assembly, determines the position and orientation that will be used.</p>
<p>Abaqus has a GUI as well as a Python interface (which is also accessible) via the GUI. References to both the Python interface and GUI will be made below.</p>
<h3 id="creating-surfaces-in-abaqus">Creating surfaces in Abaqus</h3>
<p>Per surface in the fluid-structure interface (where loads and displacements need to be exchanged) a "surface" should be created. There are multiple possibilities to create these surfaces:</p>
<ul>
<li>From the geometry: when the geometry has been defined in Abaqus itself, the geometry faces can easily be selected in the GUI. This method is often the most straightforward, but the Abaqus model should contain the geometry.</li>
<li>From the mesh: when the geometry is not available (this can for example be the case when a mesh has been imported), a surface can be defined by selecting multiple mesh faces. As a surface typically covers many mesh faces, it is useful there to select the regions "by angle", which uses the angle between mesh faces to determine whether adjacent faces should be selected. This way the surface selection can be extended until a sharp corner is met.</li>
<li>By converting a "node set" containing all the nodes on the surface and then calling the <code>SurfaceFromNodeSet</code> method which can be found in the <em><code>make_surface.py</code></em> file in <em><code>coupling_components/solver_wrappers/abaqus/extra</code></em>. It is advised to copy this file to the working directory.</li>
</ul>
<p>An example on the use of <code>SurfaceFromNodeSet</code> (via the Python console in Abaqus or a Python script for Abaqus):
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">make_surface</span> <span class="kn">import</span> <span class="n">SurfaceFromNodeSet</span>
<span class="n">my_model</span> <span class="o">=</span> <span class="n">mdb</span><span class="o">.</span><span class="n">models</span><span class="p">[</span><span class="s1">&#39;Model-1&#39;</span><span class="p">]</span>
<span class="n">my_assembly</span> <span class="o">=</span> <span class="n">my_model</span><span class="o">.</span><span class="n">rootAssembly</span>  
<span class="n">my_instance</span> <span class="o">=</span> <span class="n">my_assembly</span><span class="o">.</span><span class="n">instances</span><span class="p">[</span><span class="s1">&#39;PART-1-1&#39;</span><span class="p">]</span>
<span class="n">inputSurfaceA</span> <span class="o">=</span> <span class="n">SurfaceFromNodeSet</span><span class="p">(</span><span class="n">my_assembly</span><span class="p">,</span> <span class="n">my_instance</span><span class="p">,</span> <span class="s1">&#39;NODESET_NAME_A&#39;</span><span class="p">,</span> <span class="s1">&#39;SURFACE_NAME_A&#39;</span><span class="p">)</span>
</code></pre></div></p>
<div class="admonition tip">
<p class="admonition-title">Note about choosing model parts and surfaces</p>
<p>The created "surfaces" for load input and displacement output, correspond to <code>ModelParts</code> in the CoCoNuT code. It is strongly advised to subdivide to fluid-structure interaction interface intelligently, depending on the geometry.
As a rule of thumb it can be said that a surfaces at two sides of a sharp corner should be assigned to a different <code>ModelPart</code>.
Issues can arise at sharp corners, as the interpolation is based on shortest distance.
Those are avoided by having different <code>ModelParts</code> at each side of the corner.</p>
<p>Another reason to do this is because the code cannot handle elements with two or more faces being part of the same <code>ModelPart</code>. 
This situation would occur if the surface contains corners.
An example is an airfoil where the suction side and pressure side belong to the same <code>ModelPart</code>: elements at the trailing edge will have (a) face(s) at both the pressure side and suction side.
Even when the code would allow this, interpolation mistakes become likely, as a geometrical node or element center on the suction side could have (a) nearest neighbour(s) on the pressure side, leading to wrong data being used for interpolation.</p>
</div>
<h2 id="end-of-the-calculation">End of the calculation</h2>
<p>Unlike for the <a href="https://pyfsi.github.io/coconut/coupling_components">other solvers</a>, CoCoNuT does not keep track of the time it takes to write output files, since this is controlled by Abaqus and triggered by CoCoNuT.
Nevertheless, the output frequency is controlled by CoCoNuT and can be set with the JSON file parameter <code>save_results</code>.</p>
<h2 id="restarting-a-calculation">Restarting a calculation</h2>
<p>Since the restart behaviour of Abaqus with the Co-Simulation Engine is a bit peculiar, some clarifications are made below. 
The Co-Simulation Engine can only start from an initial timestep equal to 0. Therefore, when a CoCoNuT-simulation is restarted, a new Abaqus-step is created (if the parameter <code>disable_modification_of_input_file</code> is <code>false</code>, the solver wrapper does this for you) from which the simulation is restarted.
This implies that there are two time references in the simulation: one absolute timeframe, starting from <code>timestep_start</code> (not equal to zero), the one that CoCoNuT sees, and a relative timeframe in which Abaqus and the CSE work (starting from zero).
To allow for proper synchronization and minimal user input, CoCoNuT keeps track of the restart history using a <em><code>restart.log</code></em> created and maintained by the <code>initialize</code>-method of <em><code>abaqus_cse.py</code></em>.</p>
<p>In a first run, this file will only contain a single row with two entries: "1" and "0". The "1" denotes the step number in which the Co-Simulation runs and "0" is the global <code>timestep_start</code> of this simulation. 
Upon restart of this simulation, a second row will be added with the new step number (this will in this case be "2", since it must be one higher than the previous step) and the new <code>timestep_start</code>.
Subsequently, all the Abaqus-files from the previous simulation <em><code>Abaqus.*</code></em> are copied to a <em><code>vault</code></em>-directory and renamed to <em><code>Abaqus_Step-X.*</code></em> with <em><code>X</code></em> the Abaqus-step number (thus "1" in this case).
Over the course of the restarted simulation, they will also be present in the working directory since Abaqus needs to read these files in order to perform the restart.
At the end of the simulation, they are removed from the working directory, but not from the <em><code>vault</code></em>.</p>
<p>The new <em><code>Abaqus.*</code></em> simulation files generated by the restart now contain all the information of this second Abaqus-step.
This implies that if the user wishes to post-process the complete history of the simulation from (global) timestep 0 to the end of the restarted simulation, the <em><code>Abaqus.odb</code></em> and <em><code>vault/Abaqus-Step1.odb</code></em> files should be merged first (by the user).
Say now that the user has performed five restarts already (<em><code>restart.log</code></em> contains 6 lines, 1 for the original run and an additional line for each restart), but wishes to restart from let's say (Abaqus) step 4, the last two lines of this <em><code>restart.log</code></em>-file are removed (and replaced by a new line), as well as the <em><code>vault/Abaqus-Step5.*</code></em> files!
To run the restart, the restart files <em><code>Abaqus_Step-4.*</code></em> are copied from the <em><code>vault</code></em> to the working directory.
In a way, CoCoNuT cleans its own restart history (it keeps it 'linear'), where previous simulation data are safely stored in the <em><code>vault</code></em> and only the files after the last restart are kept in the working directory (<em><code>Abaqus.*</code></em>).</p>
<p>In case the parameter <code>disable_modification_of_input_file</code> is <code>true</code>, the user itself is responsible for providing the correct restart options in the <code>input_file</code>.
Specifically, this is the step and increment from which the simulation is restarted and the new step definition (including the Co-Simulation settings).</p>
<h2 id="solver-coupling-convergence">Solver coupling convergence</h2>
<p>The convergence criterion <a href="https://pyfsi.github.io/coconut/convergence_criteria#solver-coupling-convergence">solver coupling convergence</a> has not yet been implemented for this Abaqus solver wrapper.</p>
<h2 id="version-specific-documentation">Version specific documentation</h2>
<h3 id="v2023">v2023</h3>
<p>No major changes.</p>
<h3 id="v2024">v2024</h3>
<p>Abaqus is now using Python 3.10 instead of Python 2.7.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.expand", "navigation.tracking", "toc.integrate", "content.code.copy", "content.code.annotate"], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.dd8806f2.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>